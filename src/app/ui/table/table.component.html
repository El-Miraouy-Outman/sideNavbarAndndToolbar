<table mat-table label="HELLO" [dataSource]="dataSource" class="mat-elevation-z8">
  <!-- Loop through the displayedColumns array to generate columns -->
  <ng-container *ngFor="let column of displayedColumns" [matColumnDef]="column">
    <th mat-header-cell *matHeaderCellDef> {{ column | titlecase }} </th>
    <td mat-cell *matCellDef="let element">
      <!-- Handle array values by joining them into a single string -->
      <ng-container *ngIf="Array.isArray(element[column])">
        {{ element[column].join(' ') }}
      </ng-container>
      <ng-container *ngIf="!Array.isArray(element[column])">
        {{ element[column] }}
      </ng-container>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<div class="container">


  <div class="container-head">
    <div class="container-content-left">
      <mat-form-field>
        <input matInput type="search" placeholder="Search" [(ngModel)]="searchTerm">
      </mat-form-field>
    </div>
    <div class="container-content-left">
      <button mat-flat-button color="primary">Ajouter</button>
    </div>
  </div>
  <div>
    <mat-tab-group>

      <mat-tab label="Tous">
        <div>

          <mat-table  class="users mat-elevation-z8$"
                      [dataSource]="dataSource" >

            <ng-container matColumnDef="id" >
              <mat-header-cell *matHeaderCellDef>#</mat-header-cell>
              <mat-cell *matCellDef="let ticket">{{ticket.id}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="subject" >
              <mat-header-cell *matHeaderCellDef>Sujet</mat-header-cell>
              <mat-cell *matCellDef="let ticket">{{ticket.subject}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="updateUserName" >
              <mat-header-cell *matHeaderCellDef>updateUserName</mat-header-cell>
              <mat-cell *matCellDef="let ticket">{{ticket.updateUserName}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="status" >
              <mat-header-cell *matHeaderCellDef>Prénom</mat-header-cell>
              <mat-cell *matCellDef="let ticket">{{ticket.status}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="priority" >
              <mat-header-cell *matHeaderCellDef>priority</mat-header-cell>
              <mat-cell *matCellDef="let  ticket">{{ticket.priority}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="creationDate" >
              <mat-header-cell *matHeaderCellDef >creationDate</mat-header-cell>
              <mat-cell *matCellDef="let  ticket">{{ticket.creationDate}}</mat-cell>
            </ng-container>


            <ng-container matColumnDef="closureDate" >
              <mat-header-cell *matHeaderCellDef>closureDate</mat-header-cell>
              <mat-cell *matCellDef="let  ticket">{{ticket.closureDate}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="customerName" >
              <mat-header-cell *matHeaderCellDef>customerName</mat-header-cell>
              <mat-cell *matCellDef="let  ticket">{{ticket.customerName}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="updateDate" >
              <mat-header-cell *matHeaderCellDef>updateDate</mat-header-cell>
              <mat-cell *matCellDef="let  ticket">{{ticket.updateDate}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="action">
              <mat-header-cell *matHeaderCellDef >Action</mat-header-cell>
              <mat-cell *matCellDef="let ticket">

                <button mat-icon-button
                        (click)="editTicket(ticket)"
                        matTooltip="modifier" color="primary" matTooltipPosition="above"  >
                  <mat-icon>update</mat-icon>

                </button>

                <button mat-icon-button  color="warn"
                        (click)="deleteTicket(ticket.id)"
                        matTooltip="supprimer" matTooltipPosition="above"
                >
                  <mat-icon>delete</mat-icon>
                </button>

              </mat-cell>
            </ng-container>


            <mat-header-row *matHeaderRowDef="displayColumns"></mat-header-row>
            <mat-row *matRowDef="let ticket;columns:displayColumns" ></mat-row>
          </mat-table>
          <div class="spinner-container" *ngIf="loading">
            <mat-spinner></mat-spinner>
          </div>
        </div>
        <mat-paginator  class="mat-elevation-z8"
                        [length]="tickets.length"
                        [pageSize]="3"
                        [pageSizeOptions]="[3,5,10]"
        ></mat-paginator>

      </mat-tab>
      <mat-tab  label="En Attente">

        <mat-table  class="users mat-elevation-z8$"
                    [dataSource]="dataSource" >
          <ng-container matColumnDef="id" >
            <mat-header-cell *matHeaderCellDef>#</mat-header-cell>
            <mat-cell *matCellDef="let ticket">{{ticket.id}}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="subject" >
            <mat-header-cell *matHeaderCellDef>Sujet</mat-header-cell>
            <mat-cell *matCellDef="let ticket">{{ticket.subject}}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="updateUserName" >
            <mat-header-cell *matHeaderCellDef>updateUserName</mat-header-cell>
            <mat-cell *matCellDef="let ticket">{{ticket.updateUserName}}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="status" >
            <mat-header-cell *matHeaderCellDef>Prénom</mat-header-cell>
            <mat-cell *matCellDef="let ticket">{{ticket.status}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="priority" >
            <mat-header-cell *matHeaderCellDef>priority</mat-header-cell>
            <mat-cell *matCellDef="let  ticket">{{ticket.priority}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="creationDate" >
            <mat-header-cell *matHeaderCellDef >creationDate</mat-header-cell>
            <mat-cell *matCellDef="let  ticket">{{ticket.creationDate}}</mat-cell>
          </ng-container>


          <ng-container matColumnDef="closureDate" >
            <mat-header-cell *matHeaderCellDef>closureDate</mat-header-cell>
            <mat-cell *matCellDef="let  ticket">{{ticket.closureDate}}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="customerName" >
            <mat-header-cell *matHeaderCellDef>customerName</mat-header-cell>
            <mat-cell *matCellDef="let  ticket">{{ticket.customerName}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="updateDate" >
            <mat-header-cell *matHeaderCellDef>updateDate</mat-header-cell>
            <mat-cell *matCellDef="let  ticket">{{ticket.updateDate}}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="action">
            <mat-header-cell *matHeaderCellDef >Action</mat-header-cell>
            <mat-cell *matCellDef="let ticket">

              <button mat-icon-button
                      (click)="editTicket(ticket)"
                      matTooltip="modifier" color="primary" matTooltipPosition="above"  >
                <mat-icon>update</mat-icon>

              </button>

              <button mat-icon-button  color="warn"
                      (click)="deleteTicket(ticket.id)"
                      matTooltip="supprimer" matTooltipPosition="above"
              >
                <mat-icon>delete</mat-icon>
              </button>

            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayColumns"></mat-header-row>
          <mat-row *matRowDef="let ticket;columns:displayColumns" ></mat-row>
        </mat-table>

      </mat-tab>


    </mat-tab-group>
  </div>
</div>

<!--
<ng-container *ngIf="loading; else loadingTemplate">

      <mat-table [dataSource]="dataSource"  >

        <ng-container matColumnDef="id" >
          <mat-header-cell *matHeaderCellDef>#</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.id}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="subject" >
          <mat-header-cell *matHeaderCellDef>Sujet</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.subject}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="updateUserName" >
          <mat-header-cell *matHeaderCellDef>updateUserName</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.updateUserName}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="status" >
          <mat-header-cell *matHeaderCellDef>Prénom</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.status}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="priority" >
          <mat-header-cell *matHeaderCellDef>priority</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.priority}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="creationDate" >
          <mat-header-cell *matHeaderCellDef >creationDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.creationDate}}</mat-cell>
        </ng-container>


        <ng-container matColumnDef="closureDate" >
          <mat-header-cell *matHeaderCellDef>closureDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.closureDate}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="customerName" >
          <mat-header-cell *matHeaderCellDef>customerName</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.customerName}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="updateDate" >
          <mat-header-cell *matHeaderCellDef>updateDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.updateDate}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="action">
          <mat-header-cell *matHeaderCellDef >Action</mat-header-cell>
          <mat-cell *matCellDef="let ticket">

            <button mat-icon-button
                    (click)="editTicket(ticket)"
                    matTooltip="modifier" color="primary" matTooltipPosition="above"  >
              <mat-icon>update</mat-icon>

            </button>

            <button mat-icon-button  color="warn"
                    (click)="deleteTicket(ticket.id)"
                    matTooltip="supprimer" matTooltipPosition="above"
            >
              <mat-icon>delete</mat-icon>
            </button>

          </mat-cell>
        </ng-container>


        <mat-header-row *matHeaderRowDef="displayColumns"></mat-header-row>
        <mat-row *matRowDef="let ticket;columns:displayColumns" ></mat-row>
      </mat-table>
      <mat-paginator style="background-color: #f5f5f5;"
                     [length]="tickets.length"
                     [pageSize]="3"
                     [pageSizeOptions]="[3,5,10]"
      ></mat-paginator>
    </ng-container>


  <ng-template #loadingTemplate>
    <div class="spinner-container" >
      <mat-spinner></mat-spinner>
    </div>
  </ng-template>



  <mat-tab label="Pending ({{pendingDataSource.data.length}})">
    <ng-container *ngIf="dataSource; else loadingTemplate">

      <mat-table [dataSource]="pendingDataSource"  >

        <ng-container matColumnDef="id" >
          <mat-header-cell *matHeaderCellDef>#</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.id}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="subject" >
          <mat-header-cell *matHeaderCellDef>Sujet</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.subject}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="updateUserName" >
          <mat-header-cell *matHeaderCellDef>updateUserName</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.updateUserName}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="status" >
          <mat-header-cell *matHeaderCellDef>Prénom</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.status}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="priority" >
          <mat-header-cell *matHeaderCellDef>priority</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.priority}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="creationDate" >
          <mat-header-cell *matHeaderCellDef >creationDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.creationDate}}</mat-cell>
        </ng-container>


        <ng-container matColumnDef="closureDate" >
          <mat-header-cell *matHeaderCellDef>closureDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.closureDate}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="customerName" >
          <mat-header-cell *matHeaderCellDef>customerName</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.customerName}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="updateDate" >
          <mat-header-cell *matHeaderCellDef>updateDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.updateDate}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="action">
          <mat-header-cell *matHeaderCellDef >Action</mat-header-cell>
          <mat-cell *matCellDef="let ticket">

            <button mat-icon-button
                    (click)="editTicket(ticket)"
                    matTooltip="modifier" color="primary" matTooltipPosition="above"  >
              <mat-icon>update</mat-icon>

            </button>

            <button mat-icon-button  color="warn"
                    (click)="deleteTicket(ticket.id)"
                    matTooltip="supprimer" matTooltipPosition="above"
            >
              <mat-icon>delete</mat-icon>
            </button>

          </mat-cell>
        </ng-container>


        <mat-header-row *matHeaderRowDef="displayColumns"></mat-header-row>
        <mat-row *matRowDef="let ticket;columns:displayColumns" ></mat-row>
      </mat-table>
      <mat-paginator style="background-color: #f5f5f5;"
                     [length]="tickets.length"
                     [pageSize]="3"
                     [pageSizeOptions]="[3,5,10]"
      ></mat-paginator>
    </ng-container>
  </mat-tab>


  <mat-tab label="Processing ({{processingDataSource.data.length}})">
    <ng-container *ngIf="dataSource; else loadingTemplate">
      <mat-paginator style="background-color: #f5f5f5;" [pageSizeOptions]="[10, 30, 50]" showFirstLastButtons
                     #processingPaginator
      ></mat-paginator>
      <mat-table [dataSource]="processingDataSource"  >

        <ng-container matColumnDef="id" >
          <mat-header-cell *matHeaderCellDef>#</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.id}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="subject" >
          <mat-header-cell *matHeaderCellDef>Sujet</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.subject}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="updateUserName" >
          <mat-header-cell *matHeaderCellDef>updateUserName</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.updateUserName}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="status" >
          <mat-header-cell *matHeaderCellDef>Prénom</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.status}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="priority" >
          <mat-header-cell *matHeaderCellDef>priority</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.priority}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="creationDate" >
          <mat-header-cell *matHeaderCellDef >creationDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.creationDate}}</mat-cell>
        </ng-container>


        <ng-container matColumnDef="closureDate" >
          <mat-header-cell *matHeaderCellDef>closureDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.closureDate}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="customerName" >
          <mat-header-cell *matHeaderCellDef>customerName</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.customerName}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="updateDate" >
          <mat-header-cell *matHeaderCellDef>updateDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.updateDate}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="action">
          <mat-header-cell *matHeaderCellDef >Action</mat-header-cell>
          <mat-cell *matCellDef="let ticket">

            <button mat-icon-button
                    (click)="editTicket(ticket)"
                    matTooltip="modifier" color="primary" matTooltipPosition="above"  >
              <mat-icon>update</mat-icon>

            </button>

            <button mat-icon-button  color="warn"
                    (click)="deleteTicket(ticket.id)"
                    matTooltip="supprimer" matTooltipPosition="above"
            >
              <mat-icon>delete</mat-icon>
            </button>

          </mat-cell>
        </ng-container>


        <mat-header-row *matHeaderRowDef="displayColumns"></mat-header-row>
        <mat-row *matRowDef="let ticket;columns:displayColumns" ></mat-row>
      </mat-table>
    </ng-container>
  </mat-tab>

  <mat-tab label="Declined ({{declinedDataSource.data.length}})">
    <ng-container *ngIf="dataSource; else loadingTemplate">
      <mat-table [dataSource]="declinedDataSource"  >
        <ng-container matColumnDef="id" >
          <mat-header-cell *matHeaderCellDef>#</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.id}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="subject" >
          <mat-header-cell *matHeaderCellDef>Sujet</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.subject}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="updateUserName" >
          <mat-header-cell *matHeaderCellDef>updateUserName</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.updateUserName}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="status" >
          <mat-header-cell *matHeaderCellDef>Prénom</mat-header-cell>
          <mat-cell *matCellDef="let ticket">{{ticket.status}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="priority" >
          <mat-header-cell *matHeaderCellDef>priority</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.priority}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="creationDate" >
          <mat-header-cell *matHeaderCellDef >creationDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.creationDate}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="closureDate" >
          <mat-header-cell *matHeaderCellDef>closureDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.closureDate}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="customerName" >
          <mat-header-cell *matHeaderCellDef>customerName</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.customerName}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="updateDate" >
          <mat-header-cell *matHeaderCellDef>updateDate</mat-header-cell>
          <mat-cell *matCellDef="let  ticket">{{ticket.updateDate}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="action">
          <mat-header-cell *matHeaderCellDef >Action</mat-header-cell>
          <mat-cell *matCellDef="let ticket">

            <button mat-icon-button
                    (click)="editTicket(ticket)"
                    matTooltip="modifier" color="primary" matTooltipPosition="above"  >
              <mat-icon>update</mat-icon>

            </button>

            <button mat-icon-button  color="warn"
                    (click)="deleteTicket(ticket.id)"
                    matTooltip="supprimer" matTooltipPosition="above"
            >
              <mat-icon>delete</mat-icon>
            </button>

          </mat-cell>
        </ng-container>


        <mat-header-row *matHeaderRowDef="displayColumns"></mat-header-row>
        <mat-row *matRowDef="let ticket;columns:displayColumns" ></mat-row>
      </mat-table>
      <mat-paginator style="background-color: #f5f5f5;"
                     [length]="tickets.length"
                     [pageSize]="3"
                     [pageSizeOptions]="[3,5,10]"
      ></mat-paginator>
    </ng-container>
  </mat-tab>
 <mat-tab-group>

  All Tab
</mat-tab-group>
-->


